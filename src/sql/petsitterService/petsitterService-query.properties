insertPetsitterService=INSERT INTO TB_REG VALUES(SEQ_PET_SERVICE_REGNO.NEXTVAL, ?, ?, ?, ?, ?)
insertPetsitterServiceDetail=INSERT INTO TB_REGDETAIL VALUES (SEQ_PET_REGNO.NEXTVAL, SEQ_PET_SERVICE_REGNO.CURRVAL, ?, ?, ? , ?, ?)
selectAllPetsitterService=SELECT RNUM, PET_SERVICE_REGNO, USER_NO, USER_NAME, NICKNAME, GENDER, PHONE, ADDRESS, USER_STATUS, USER_GRADE, FILE_NO, FILE_NAME, FILE_PATH, CONTRACT_TYPE, CONTRACT_DAYS, CONTRACT_START, CONTRACT_END, PET_CATEGORY, SERVICE_CHARGE, PET_COUNT, SERVICE_DETAIL, SERVICE_RESTRICT FROM (SELECT ROWNUM RNUM, PET_SERVICE_REGNO, USER_NO, USER_NAME, NICKNAME, GENDER, PHONE, ADDRESS, USER_STATUS, USER_GRADE, FILE_NO, FILE_NAME, FILE_PATH, CONTRACT_TYPE, CONTRACT_DAYS, CONTRACT_START, CONTRACT_END, PET_CATEGORY, SERVICE_CHARGE, PET_COUNT, SERVICE_DETAIL, SERVICE_RESTRICT FROM (SELECT R.PET_SERVICE_REGNO, M.USER_NO, M.USER_NAME, M.NICKNAME, M.GENDER, M.PHONE, M.ADDRESS, M.USER_STATUS, M.USER_GRADE, M.FILE_NO, F.FILE_NAME, F.FILE_PATH, CONTRACT_TYPE, CONTRACT_DAYS, CONTRACT_START, CONTRACT_END, PET_CATEGORY, SERVICE_CHARGE, PET_COUNT, SERVICE_DETAIL, SERVICE_RESTRICT FROM TB_REG R JOIN TB_REGDETAIL RD ON (R.PET_SERVICE_REGNO = RD.PET_SERVICE_REGNO) JOIN TB_MEMBER M ON (R.USER_NO = M.USER_NO) LEFT JOIN TB_FILE F ON (M.FILE_NO = F.FILE_NO) WHERE M.USER_STATUS = 1 AND M.USER_GRADE = 3 AND (CONTRACT_END - TRUNC(SYSDATE) > -1) ORDER BY PET_SERVICE_REGNO ASC)) WHERE RNUM BETWEEN ? AND ?
listCount=SELECT COUNT(*) FROM TB_REG WHERE (CONTRACT_END - TRUNC(SYSDATE) > -1)
selectOne=SELECT R.PET_SERVICE_REGNO, R.USER_NO, RD.PET_SERVICE_REGNO, USER_NAME, NICKNAME, GENDER, PHONE, ADDRESS, USER_STATUS, USER_GRADE, M.FILE_NO, FILE_NAME, FILE_PATH, CONTRACT_TYPE, CONTRACT_DAYS, CONTRACT_START, CONTRACT_END, PET_CATEGORY, SERVICE_CHARGE, PET_COUNT, SERVICE_DETAIL, SERVICE_RESTRICT FROM TB_REG R JOIN TB_REGDETAIL RD ON (R.PET_SERVICE_REGNO = RD.PET_SERVICE_REGNO) JOIN TB_MEMBER M ON (R.USER_NO = M.USER_NO) LEFT JOIN TB_FILE F ON (M.FILE_NO = F.FILE_NO) WHERE M.USER_STATUS = 1 AND M.USER_GRADE = 3 AND (CONTRACT_END - TRUNC(SYSDATE) > -1) AND R.PET_SERVICE_REGNO = ?
selectOnebyId=SELECT R.PET_SERVICE_REGNO, R.USER_NO, RD.PET_SERVICE_REGNO, USER_NAME, NICKNAME, GENDER, PHONE, ADDRESS, USER_STATUS, USER_GRADE, M.FILE_NO, FILE_NAME, FILE_PATH, CONTRACT_TYPE, CONTRACT_DAYS, CONTRACT_START, CONTRACT_END, PET_CATEGORY, SERVICE_CHARGE, PET_COUNT, SERVICE_DETAIL, SERVICE_RESTRICT FROM TB_REG R JOIN TB_REGDETAIL RD ON (R.PET_SERVICE_REGNO = RD.PET_SERVICE_REGNO) JOIN TB_MEMBER M ON (R.USER_NO = M.USER_NO) LEFT JOIN TB_FILE F ON (M.FILE_NO = F.FILE_NO) WHERE M.USER_STATUS = 1 AND M.USER_GRADE = 3 AND (CONTRACT_END - TRUNC(SYSDATE) > -1) AND R.USER_NO = ?
searchList=SELECT R.PET_SERVICE_REGNO, R.USER_NO, RD.PET_SERVICE_REGNO, USER_NAME, NICKNAME, GENDER, PHONE, ADDRESS, USER_STATUS, USER_GRADE, M.FILE_NO, FILE_NAME, FILE_PATH, CONTRACT_TYPE, CONTRACT_DAYS, CONTRACT_START, CONTRACT_END, RD.PET_CATEGORY, PC.PET_CATEGORYNAME, SERVICE_CHARGE, PET_COUNT, SERVICE_DETAIL, SERVICE_RESTRICT FROM TB_REG R JOIN TB_REGDETAIL RD ON (R.PET_SERVICE_REGNO = RD.PET_SERVICE_REGNO) JOIN TB_MEMBER M ON (R.USER_NO = M.USER_NO) JOIN TB_PETCATEGORY PC ON (PC.PET_CATEGORY = RD.PET_CATEGORY) LEFT JOIN TB_FILE F ON (M.FILE_NO = F.FILE_NO) WHERE M.USER_STATUS = 1 AND M.USER_GRADE = 3 AND (CONTRACT_END - TRUNC(SYSDATE) > -1) AND (UPPER(NICKNAME) LIKE ? OR UPPER(ADDRESS) LIKE ? OR PET_CATEGORYNAME LIKE ?) AND (GENDER = ? OR GENDER = ?)
searchListbyId=SELECT R.PET_SERVICE_REGNO, R.USER_NO, RD.PET_SERVICE_REGNO, USER_NAME, NICKNAME, GENDER, PHONE, ADDRESS, USER_STATUS, USER_GRADE, M.FILE_NO, FILE_NAME, FILE_PATH, CONTRACT_TYPE, CONTRACT_DAYS, CONTRACT_START, CONTRACT_END, RD.PET_CATEGORY, PC.PET_CATEGORYNAME, SERVICE_CHARGE, PET_COUNT, SERVICE_DETAIL, SERVICE_RESTRICT FROM TB_REG R JOIN TB_REGDETAIL RD ON (R.PET_SERVICE_REGNO = RD.PET_SERVICE_REGNO) JOIN TB_MEMBER M ON (R.USER_NO = M.USER_NO) JOIN TB_PETCATEGORY PC ON (PC.PET_CATEGORY = RD.PET_CATEGORY) LEFT JOIN TB_FILE F ON (M.FILE_NO = F.FILE_NO) WHERE M.USER_STATUS = 1 AND M.USER_GRADE = 3 AND M.USER_NO = ?
getPetcategory=SELECT * FROM TB_PETCATEGORY P
updatePetsitterService=UPDATE TB_REG SET CONTRACT_TYPE = ?, CONTRACT_DAYS = ?, CONTRACT_START = ?, CONTRACT_END = ? WHERE USER_NO = ? AND PET_SERVICE_REGNO = ?
updatePetsitterServiceDetail=UPDATE TB_REGDETAIL SET PET_CATEGORY = ?, SERVICE_CHARGE = ?, PET_COUNT = ?, SERVICE_DETAIL = ?, SERVICE_RESTRICT = ? WHERE PET_SERVICE_REGNO = ?
selectMyContract=SELECT C.CONTRACT_NO, S.SERVICE_STATUS, C.PET_NO, C.CONTRACT_DATE, C.CONTRACT_START, C.CONTRACT_END, C.CONTRACT_STATUS, C.CONTRACT_STAR, C.USER_NO, C.PET_SERVICE_REGNO, M.USER_NAME, M.PHONE, M.ADDRESS, M.GENDER, M.NICKNAME, M2.USER_NO as "PET_USER_NO", M2.USER_NAME as "PET_USER_NAME", M2.PHONE as "PET_PHONE", M2.ADDRESS as "PET_ADDRESS", M2.GENDER AS "PET_GENDER", M2.NICKNAME AS "PET_NICKNAME", PCG.PET_CATEGORYNAME, SERVICE_CHARGE, CONTRACT_TYPE FROM TB_CONTRACT C JOIN TB_REG R ON (C.PET_SERVICE_REGNO = R.PET_SERVICE_REGNO) JOIN TB_MEMBER M ON(C.USER_NO = M.USER_NO) JOIN TB_MEMBER M2 ON(R.USER_NO = M2.USER_NO) JOIN TB_REGDETAIL RG ON(RG.PET_SERVICE_REGNO = C.PET_SERVICE_REGNO) JOIN TB_PETCATEGORY PCG ON (PCG.PET_CATEGORY = RG.PET_CATEGORY) LEFT JOIN TB_SERVICE S ON (C.CONTRACT_NO = S.CONTRACT_NO) WHERE C.PET_SERVICE_REGNO = ? AND R.USER_NO = ?
insertContract=INSERT INTO TB_CONTRACT VALUES(SEQ_CONTRACT_NO.NEXTVAL, ?, ?, ?, SYSDATE, ?, ?, ?, 0)
selectOneContract=SELECT C.CONTRACT_NO, S.SERVICE_STATUS, C.PET_NO, C.CONTRACT_DATE, C.CONTRACT_START, C.CONTRACT_END, C.CONTRACT_STATUS, C.CONTRACT_STAR, C.USER_NO, C.PET_SERVICE_REGNO, M.USER_NAME, M.PHONE, M.ADDRESS, M.GENDER, M.NICKNAME, M2.USER_NO as "PET_USER_NO", M2.USER_NAME as "PET_USER_NAME", M2.PHONE as "PET_PHONE", M2.ADDRESS as "PET_ADDRESS", M2.GENDER AS "PET_GENDER", M2.NICKNAME AS "PET_NICKNAME", PCG.PET_CATEGORYNAME, SERVICE_CHARGE, CONTRACT_TYPE FROM TB_CONTRACT C JOIN TB_REG R ON (C.PET_SERVICE_REGNO = R.PET_SERVICE_REGNO) JOIN TB_MEMBER M ON(C.USER_NO = M.USER_NO) JOIN TB_MEMBER M2 ON(R.USER_NO = M2.USER_NO) JOIN TB_REGDETAIL RG ON(RG.PET_SERVICE_REGNO = C.PET_SERVICE_REGNO) JOIN TB_PETCATEGORY PCG ON (PCG.PET_CATEGORY = RG.PET_CATEGORY) LEFT JOIN TB_SERVICE S ON (C.CONTRACT_NO = S.CONTRACT_NO) WHERE C.PET_SERVICE_REGNO = ? AND C.USER_NO = ?
selectMyAllContract=SELECT C.CONTRACT_NO, S.SERVICE_STATUS, C.USER_NO as "CLIENT_USER_NO", M.USER_NAME as "CLIENT_USER_NAME", C.PET_NO, M.PHONE as "CLIENT_PHONE", M.GENDER as "CLIENT_GENDER", M.ADDRESS as "CLIENT_ADDRESS", M.NICKNAME as "CLIENT_NICKNAME", M2.NICKNAME, M2.PHONE, M2.GENDER, M2.ADDRESS, R.PET_SERVICE_REGNO, C.CONTRACT_DATE, C.CONTRACT_START, C.CONTRACT_END, C.CONTRACT_STATUS, C.CONTRACT_STAR, M2.USER_NO as "PETSITTER_USER_NO", CONTRACT_TYPE, M2.USER_NAME, PCG.PET_CATEGORYNAME, SERVICE_CHARGE, CONTRACT_TYPE FROM TB_CONTRACT C JOIN TB_MEMBER M ON (C.USER_NO = M.USER_NO) JOIN TB_REG R ON (R.PET_SERVICE_REGNO = C.PET_SERVICE_REGNO) JOIN TB_MEMBER M2 ON (R.USER_NO = M2.USER_NO) JOIN TB_REGDETAIL RG ON(RG.PET_SERVICE_REGNO = C.PET_SERVICE_REGNO) JOIN TB_PETCATEGORY PCG ON (PCG.PET_CATEGORY = RG.PET_CATEGORY) LEFT JOIN TB_SERVICE S ON (C.CONTRACT_NO = S.CONTRACT_NO) WHERE R.USER_NO = ? ORDER BY CONTRACT_DATE
AcceptReqContract=UPDATE TB_CONTRACT SET CONTRACT_STATUS = ? WHERE CONTRACT_NO = ? AND USER_NO = ? AND CONTRACT_STATUS = 'W'
RefuseReqContract=UPDATE TB_CONTRACT SET CONTRACT_STATUS = ? WHERE CONTRACT_NO = ? AND USER_NO = ? AND CONTRACT_STATUS = 'W'
createService=INSERT INTO TB_SERVICE VALUES (?, 'W', SYSDATE) 
selectAllMyClientContract=SELECT C.CONTRACT_NO, S.SERVICE_STATUS, C.USER_NO as "CLIENT_USER_NO", M.USER_NAME as "CLIENT_USER_NAME", C.PET_NO, M.PHONE as "CLIENT_PHONE", M.GENDER as "CLIENT_GENDER", M.ADDRESS as "CLIENT_ADDRESS", M.NICKNAME as "CLIENT_NICKNAME", M2.NICKNAME, M2.PHONE, M2.GENDER, M2.ADDRESS, R.PET_SERVICE_REGNO, C.CONTRACT_DATE, C.CONTRACT_START, C.CONTRACT_END, C.CONTRACT_STATUS, C.CONTRACT_STAR, M2.USER_NO as "PETSITTER_USER_NO", CONTRACT_TYPE, M2.USER_NAME, PCG.PET_CATEGORYNAME, SERVICE_CHARGE, CONTRACT_TYPE FROM TB_CONTRACT C JOIN TB_MEMBER M ON (C.USER_NO = M.USER_NO) JOIN TB_REG R ON (R.PET_SERVICE_REGNO = C.PET_SERVICE_REGNO) JOIN TB_MEMBER M2 ON (R.USER_NO = M2.USER_NO) JOIN TB_REGDETAIL RG ON(RG.PET_SERVICE_REGNO = C.PET_SERVICE_REGNO) JOIN TB_PETCATEGORY PCG ON (PCG.PET_CATEGORY = RG.PET_CATEGORY) LEFT JOIN TB_SERVICE S ON (C.CONTRACT_NO = S.CONTRACT_NO) WHERE C.USER_NO = ? ORDER BY CONTRACT_DATE
checkCMoney=SELECT * FROM TB_CYBERMONEY WHERE USER_NO = ?
insertPayment=INSERT INTO TB_PAYMENT VALUES (SEQ_PAY_NO.NEXTVAL, ?, ?, SYSDATE, ?, NULL, NULL, NULL, NULL, NULL, NULL)
insertPayhistory=INSERT INTO TB_PAYHISTORY VALUES (SEQ_PAYRECORDNO.NEXTVAL, SEQ_PAY_NO.CURRVAL, ?)
proceedCybermoney=UPDATE TB_CYBERMONEY SET MONEY = (MONEY - ?) WHERE USER_NO = ?
insertContractmoney=INSERT INTO TB_CONTRACT_MONEY VALUES (SEQ_CONTRACT_MONEY_NO.NEXTVAL, ?, SEQ_PAYRECORDNO.CURRVAL)
updateService=UPDATE TB_SERVICE SET SERVICE_STATUS = ?, SERVICE_DATE = SYSDATE WHERE CONTRACT_NO = ?
PetsitterApply=INSERT INTO TB_APPLY VALUES (SEQ_APPLY_NO.NEXTVAL, ?)
PetsitterApplyHistory=INSERT INTO TB_APPLYHISTORY VALUES (SEQ_APPLY_RECORD_NO.NEXTVAL, SEQ_APPLY_NO.CURRVAL, SYSDATE, 'W', ?)
endContract=UPDATE TB_SERVICE SET SERVICE_STATUS = ?, SERVICE_DATE = SYSDATE WHERE CONTRACT_NO = ?